<head>
    <title>Geo</title>
</head>

<template name="layout">
    {{> Template.dynamic template=top }}
    <div class="container">
        <div class="row">
            {{> Template.dynamic template=main }}
        </div>
    </div>
</template>

<template name="header">
    <header class="navbar navbar-inverse navbar-static-top bs-docs-nav" id="top" role="banner">
        <div class="container">
            <nav id="bs-navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="{{placesUrl}}">Объекты</a>
                    </li>
                    <li>
                        <a href="{{geoPortalUrl}}">Геопортал</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#">Выйти</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
</template>

<template name="places">
    <a href="{{placeAddUrl}}" class="btn btn-primary">Добавить объект</a>
    {{> reactiveTable settings=settings }}
</template>

<template name="insertPlaceForm">
    <div class="col-md-8 col-md-offset-2">
        {{#autoForm schema=placeFormSchema id="placeForm" type="method" meteormethod="savePlace"}}
            <fieldset>
                <legend>Добавление объекта</legend>
                {{> afQuickField name="type" options=placeTypesOptions firstOption="Выберите тип объекта" }}
                {{> afQuickField name="name"}}
                {{> afQuickField name="dangerLevel" options=dangerLevelOptions firstOption="Выберите уровень опасности"}}
                {{> afQuickField name="description" rows=2}}
                {{> afQuickField name="location"}}
                <div>
                    <button type="submit" class="btn btn-primary">Создать объект</button>
                </div>
            </fieldset>
        {{/autoForm}}
    </div>
</template>

<template name="geoPortal">
    {{> filterPlaces }}
    <div class="map-container">
        {{> googleMap name="placesLocationMap" options=placesLocationMapOptions}}
    </div>
</template>

<template name="filterPlaces">
    <div class="search-box" style="display: block;">
        <div class="search-box-dialog">
            <div class="search-box-content">
                <div class="search-box-body">
                    <form>
                        <div class="form-group">
                            <input type="text" placeholder="Название объекта" class="form-control"
                                   style="border-radius: 0 !important;" id="place-name">
                        </div>
                        <div class="form-group">
                            {{#each placeTypesOptions }}
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" value="{{value}}">{{label}}
                                    </label>
                                </div>
                            {{/each}}
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="notFoundLayout">
    <div class="container">
        <div class="col-lg-8 col-lg-offset-2 text-center">
            <div class="logo">
                <h1>Уппс, Ошибка 404!</h1>
            </div>
            <div class="clearfix"></div>
            <br>

            <p class="text-muted">Ой, я сломался. Пожалуйста, попробуйте позже. </p>

            <div class="clearfix"></div>
            <br>
            <br>

            <div class="clearfix"></div>
            <br>

            <div class="col-lg-6  col-lg-offset-3">
                <div class="btn-group btn-group-justified">
                    <a href="{{ placesUrl }}" class="btn btn-success">Вернуться на главную страницу</a>
                </div>

            </div>
        </div>
    </div>
</template>

<template name="placeInfoWindow">
    <div class="modal-body">
        <p><strong>Название:</strong> {{place.name}}</p>

        <p><strong>Описание:</strong> {{place.description}}</p>

        <p><strong>Тип объекта:</strong> {{type}}</p>
    </div>
</template>
